(function(d,c,a,e){Foundation.libs.reveal={name:"reveal",version:"5.5.2",locked:false,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:true,close_on_esc:true,dismiss_modal_class:"close-reveal-modal",multiple_opened:false,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},on_ajax_error:d.noop,bg:d(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(g,h,f){d.extend(true,this.settings,h,f);this.bindings(h,f)},events:function(h){var f=this,g=f.S;g(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(l){l.preventDefault();if(!f.locked){var j=g(this),k=j.data(f.data_attr("reveal-ajax")),m=j.data(f.data_attr("reveal-replace-content"));f.locked=true;if(typeof k==="undefined"){f.open.call(f,j)}else{var i=k===true?j.attr("href"):k;f.open.call(f,j,{url:i},{replaceContentSel:m})}}});g(a).on("click.fndtn.reveal",this.close_targets(),function(j){j.preventDefault();if(!f.locked){var i=g("["+f.attr_name()+"].open").data(f.attr_name(true)+"-init")||f.settings,k=g(j.target)[0]===g("."+i.bg_class)[0];if(k){if(i.close_on_background_click){j.stopPropagation()}else{return}}f.locked=true;f.close.call(f,k?g("["+f.attr_name()+"].open:not(.toback)"):g(this).closest("["+f.attr_name()+"]"))}});if(g("["+f.attr_name()+"]",this.scope).length>0){g(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video)}else{g(this.scope).on("open.fndtn.reveal","["+f.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+f.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+f.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+f.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+f.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+f.attr_name()+"]",this.close_video)}return true},key_up_on:function(g){var f=this;f.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(j){var h=f.S("["+f.attr_name()+"].open"),i=h.data(f.attr_name(true)+"-init")||f.settings;if(i&&j.which===27&&i.close_on_esc&&!f.locked){f.close.call(f,h)}});return true},key_up_off:function(f){this.S("body").off("keyup.fndtn.reveal");return true},open:function(j,k){var g=this,i;if(j){if(typeof j.selector!=="undefined"){i=g.S("#"+j.data(g.data_attr("reveal-id"))).first()}else{i=g.S(this.scope);k=j}}else{i=g.S(this.scope)}var h=i.data(g.attr_name(true)+"-init");h=h||this.settings;if(i.hasClass("open")&&j.attr("data-reveal-id")==i.attr("id")){return g.close(i)}if(!i.hasClass("open")){var f=g.S("["+g.attr_name()+"].open");if(typeof i.data("css-top")==="undefined"){i.data("css-top",parseInt(i.css("top"),10)).data("offset",this.cache_offset(i))}i.attr("tabindex","0").attr("aria-hidden","false");this.key_up_on(i);i.on("open.fndtn.reveal",function(m){if(m.namespace!=="fndtn.reveal"){return}});i.on("open.fndtn.reveal").trigger("open.fndtn.reveal");if(f.length<1){this.toggle_bg(i,true)}if(typeof k==="string"){k={url:k}}if(typeof k==="undefined"||!k.url){if(f.length>0){if(h.multiple_opened){g.to_back(f)}else{g.hide(f,h.css.close)}}this.show(i,h.css.open)}else{var l=typeof k.success!=="undefined"?k.success:null;d.extend(k,{success:function(o,p,n){if(d.isFunction(l)){var m=l(o,p,n);if(typeof m=="string"){o=m}}if(typeof options!=="undefined"&&typeof options.replaceContentSel!=="undefined"){i.find(options.replaceContentSel).html(o)}else{i.html(o)}g.S(i).foundation("section","reflow");g.S(i).children().foundation();if(f.length>0){if(h.multiple_opened){g.to_back(f)}else{g.hide(f,h.css.close)}}g.show(i,h.css.open)}});if(h.on_ajax_error!==d.noop){d.extend(k,{error:h.on_ajax_error})}d.ajax(k)}}g.S(c).trigger("resize")},close:function(i){var i=i&&i.length?i:this.S(this.scope),h=this.S("["+this.attr_name()+"].open"),g=i.data(this.attr_name(true)+"-init")||this.settings,f=this;if(h.length>0){i.removeAttr("tabindex","0").attr("aria-hidden","true");this.locked=true;this.key_up_off(i);i.trigger("close.fndtn.reveal");if((g.multiple_opened&&h.length===1)||!g.multiple_opened||i.length>1){f.toggle_bg(i,false);f.to_front(i)}if(g.multiple_opened){f.hide(i,g.css.close,g);f.to_front(d(d.makeArray(h).reverse()[1]))}else{f.hide(h,g.css.close,g)}}},close_targets:function(){var f="."+this.settings.dismiss_modal_class;if(this.settings.close_on_background_click){return f+", ."+this.settings.bg_class}return f},toggle_bg:function(f,g){if(this.S("."+this.settings.bg_class).length===0){this.settings.bg=d("<div />",{"class":this.settings.bg_class}).appendTo("body").hide()}var h=this.settings.bg.filter(":visible").length>0;if(g!=h){if(g==e?h:!g){this.hide(this.settings.bg)}else{this.show(this.settings.bg)}}},show:function(l,j){if(j){var k=l.data(this.attr_name(true)+"-init")||this.settings,i=k.root_element,h=this;if(l.parent(i).length===0){var m=l.wrap('<div style="display: none;" />').parent();l.on("closed.fndtn.reveal.wrapped",function(){l.detach().appendTo(m);l.unwrap().unbind("closed.fndtn.reveal.wrapped")});l.detach().appendTo(i)}var g=b(k.animation);if(!g.animate){this.locked=false}if(g.pop){j.top=d(c).scrollTop()-l.data("offset")+"px";var f={top:d(c).scrollTop()+l.data("css-top")+"px",opacity:1};return setTimeout(function(){return l.css(j).animate(f,k.animation_speed,"linear",function(){h.locked=false;l.trigger("opened.fndtn.reveal")}).addClass("open")},k.animation_speed/2)}if(g.fade){j.top=d(c).scrollTop()+l.data("css-top")+"px";var f={opacity:1};return setTimeout(function(){return l.css(j).animate(f,k.animation_speed,"linear",function(){h.locked=false;l.trigger("opened.fndtn.reveal")}).addClass("open")},k.animation_speed/2)}return l.css(j).show().css({opacity:1}).addClass("open").trigger("opened.fndtn.reveal")}var k=this.settings;if(b(k.animation).fade){return l.fadeIn(k.animation_speed/2)}this.locked=false;return l.show()},to_back:function(f){f.addClass("toback")},to_front:function(f){f.removeClass("toback")},hide:function(k,i){if(i){var j=k.data(this.attr_name(true)+"-init"),h=this;j=j||this.settings;var g=b(j.animation);if(!g.animate){this.locked=false}if(g.pop){var f={top:-d(c).scrollTop()-k.data("offset")+"px",opacity:0};return setTimeout(function(){return k.animate(f,j.animation_speed,"linear",function(){h.locked=false;k.css(i).trigger("closed.fndtn.reveal")}).removeClass("open")},j.animation_speed/2)}if(g.fade){var f={opacity:0};return setTimeout(function(){return k.animate(f,j.animation_speed,"linear",function(){h.locked=false;k.css(i).trigger("closed.fndtn.reveal")}).removeClass("open")},j.animation_speed/2)}return k.hide().css(i).removeClass("open").trigger("closed.fndtn.reveal")}var j=this.settings;if(b(j.animation).fade){return k.fadeOut(j.animation_speed/2)}return k.hide()},close_video:function(h){var g=d(".flex-video",h.target),f=d("iframe",g);if(f.length>0){f.attr("data-src",f[0].src);f.attr("src",f.attr("src"));g.hide()}},open_video:function(h){var g=d(".flex-video",h.target),f=g.find("iframe");if(f.length>0){var j=f.attr("data-src");if(typeof j==="string"){f[0].src=f.attr("data-src")}else{var i=f[0].src;f[0].src=e;f[0].src=i}g.show()}},data_attr:function(f){if(this.namespace.length>0){return this.namespace+"-"+f}return f},cache_offset:function(f){var g=f.show().height()+parseInt(f.css("top"),10)+f.scrollY;f.hide();return g},off:function(){d(this.scope).off(".fndtn.reveal")},reflow:function(){}};function b(h){var g=/fade/i.test(h);var f=/pop/i.test(h);return{animate:g||f,pop:f,fade:g}}}(jQuery,window,window.document));